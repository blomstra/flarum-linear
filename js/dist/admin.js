(()=>{var t={n:e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return t.d(a,{a}),a},d:(e,a)=>{for(var r in a)t.o(a,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};(()=>{"use strict";t.r(e);const a=flarum.core.compat["admin/app"];var r=t.n(a);r().initializers.add("blomstra-linear",(function(){if(r().extensionData.for("blomstra-linear").registerSetting({setting:"blomstra-linear.token",type:"password",label:r().translator.trans("blomstra-linear.admin.settings.token_label"),help:r().translator.trans("blomstra-linear.admin.settings.token_description")}).registerSetting({setting:"blomstra-linear.cachettl",type:"number",default:0,label:r().translator.trans("blomstra-linear.admin.settings.cachettl_label"),help:r().translator.trans("blomstra-linear.admin.settings.cachettl_description")}).registerPermission({icon:"fab fa-trello",label:r().translator.trans("blomstra-linear.admin.permissions.add_to_linear"),permission:"discussion.addToLinear"},"start"),"blomstra-linear.token"in r().data.settings&&""!==r().data.settings["blomstra-linear.token"]){r().extensionData.for("blomstra-linear").registerSetting((function(){return m("div",{className:"Form-group"},m("h2",null," ",r().translator.trans("blomstra-linear.admin.settings.teams_header")," "))}));var t={null:"Select a team"};m.request({method:"GET",url:"/api/linear/teams"}).then((function(e){e.data.attributes.map((function(e){t[e.id]=e.name})),Object.keys(t).length>1&&(console.log(t),r().extensionData.for("blomstra-linear").registerSetting({setting:"blomstra-linear.default-team",type:"select",label:r().translator.trans("blomstra-linear.admin.settings.default_team_label"),help:r().translator.trans("blomstra-linear.admin.settings.default_team_description"),options:t,default:"blomstra-linear.default-team"in r().data.settings&&""!==r().data.settings["blomstra-linear.default-team"]&&null!==r().data.settings["blomstra-linear.default-team"]?r().data.settings["blomstra-linear.default-team"]:null}))}))}}))})(),module.exports=e})();
//# sourceMappingURL=admin.js.map