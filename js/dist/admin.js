(()=>{var t={n:a=>{var e=a&&a.__esModule?()=>a.default:()=>a;return t.d(e,{a:e}),e},d:(a,e)=>{for(var n in e)t.o(e,n)&&!t.o(a,n)&&Object.defineProperty(a,n,{enumerable:!0,get:e[n]})},o:(t,a)=>Object.prototype.hasOwnProperty.call(t,a),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},a={};(()=>{"use strict";t.r(a);const e=flarum.core.compat["admin/app"];var n=t.n(e);const l=flarum.core.compat["tags/admin/components/EditTagModal"];var r=t.n(l);const i=flarum.core.compat["common/extend"],o=flarum.core.compat["common/components/SelectDropdown"];var s=t.n(o);const d=flarum.core.compat["common/components/Button"];var u=t.n(d);n().initializers.add("blomstra-linear",(function(){var t;if(t=[],m.request({method:"GET",url:"/api/linear/labels"}).then((function(a){t=a.data.attributes,console.error(a.data)})),(0,i.extend)(r().prototype,"oninit",(function(){var t;this.linearLabelId=null==(t=this.tag.data.attributes)?void 0:t.linearLabelId})),(0,i.extend)(r().prototype,"fields",(function(a){var e=this,l=[{value:null,text:n().translator.trans("blomstra-linear.admin.tags.fields.linear_label_id.default_select_value")}].concat(t.map((function(t){return{value:t.id,text:t.name}})));a.add("linearLabelId",m("div",{className:"Form-group"},m("label",null,n().translator.trans("blomstra-linear.admin.tags.fields.linear_label_id.label")),m(s(),{buttonClassName:"Button Button--inverted",defaultLabel:n().translator.trans("blomstra-linear.admin.tags.fields.linear_label_id.default_select_value")},l.map((function(t){return m(u(),{className:"Button",value:t.value,active:e.linearLabelId===t.value,type:"button",onclick:function(){e.linearLabelId=t.value}},t.text)})))),30)})),(0,i.extend)(r().prototype,"submitData",(function(t){return t.linearLabelId=this.linearLabelId,t})),n().extensionData.for("blomstra-linear").registerSetting({setting:"blomstra-linear.token",type:"password",label:n().translator.trans("blomstra-linear.admin.settings.token_label"),help:n().translator.trans("blomstra-linear.admin.settings.token_description")}).registerSetting({setting:"blomstra-linear.cachettl",type:"number",default:0,label:n().translator.trans("blomstra-linear.admin.settings.cachettl_label"),help:n().translator.trans("blomstra-linear.admin.settings.cachettl_description")}).registerPermission({icon:"fab fa-trello",label:n().translator.trans("blomstra-linear.admin.permissions.add_to_linear"),permission:"discussion.addToLinear"},"start"),"blomstra-linear.token"in n().data.settings&&""!==n().data.settings["blomstra-linear.token"]){n().extensionData.for("blomstra-linear").registerSetting((function(){return m("div",{className:"Form-group"},m("h2",null," ",n().translator.trans("blomstra-linear.admin.settings.teams_header")," "))}));var a={null:"Select a team"};m.request({method:"GET",url:"/api/linear/teams"}).then((function(t){t.data.attributes.map((function(t){a[t.id]=t.name})),Object.keys(a).length>1&&(console.log(a),n().extensionData.for("blomstra-linear").registerSetting({setting:"blomstra-linear.default-team",type:"select",label:n().translator.trans("blomstra-linear.admin.settings.default_team_label"),help:n().translator.trans("blomstra-linear.admin.settings.default_team_description"),options:a,default:"blomstra-linear.default-team"in n().data.settings&&""!==n().data.settings["blomstra-linear.default-team"]&&null!==n().data.settings["blomstra-linear.default-team"]?n().data.settings["blomstra-linear.default-team"]:null}))}))}}))})(),module.exports=a})();
//# sourceMappingURL=admin.js.map